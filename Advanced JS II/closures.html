<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="orange"> Orange</button>

    <button id="green"> Green</button>

    
    
</body>

<script>
        function outer(){
            let username = "Rohan"

            console.log("Outer", secret) // Error: secret is not defined

            function inner(){
                console.log("Inner", username)// yaha username ko access kar paega kyki inner function ke paas closure hai
                console.log("Inner", secret) // Error: secret is not defined
            }

            function inner2(){
                let secret = "Mohit"
                console.log("Inner2", username)// yaha username ko access kar paega kyki inner2 function ke paas apna local variable hai
            }
            inner()
            inner2()
        }
        console.log("outer", username)// Error: username is not defined
    </script>



<script>

    function clickHandler(color){
        return function(){
            document.body.style.backgroundColor = color
        }

    }

    document.getElementById("orange").onclick = clickHandler("orange")
    document.getElementById("green").onclick = clickHandler("green")


</script>
</html>


<! --
ðŸ§  WHY these rules exist?
Event listener expects â†’ a function to call later

But you want â†’ a function WITH some data (color, id, message)

To solve this mismatch â†’ you wrap a function inside another function.

â­ ONE LINE GOLDEN RULE

Browser ko callback chahiye â†’ reference do.
Tumhe data pass karna hai â†’ wrapper function/closure do.


ðŸŸ¢ FINAL CLARITY (Jaise tumne à¤ªà¥‚à¤›à¤¾ à¤¥à¤¾, EXACT answer)
â“ â€œHum function ke andar function kyu likh rahe hain?â€

âœ” Because upar wala function sirf browser ko reference dene ke liye hai.
âœ” And andar wala function call hamara apna code hai jo argument ke saath chalna hai.

âœ” Bahar wala function:

Event listener ko reference dene ke liye.

âœ” Andar wala function:

Actual kaam karne ke liye (handleClick("red")).



button.addEventListener("click", handleClick("red")); ye galat hai kyuki isme handleClick("red") ko turant call kar diya jayega aur jo return hoga wahi event listener ko milega. Hume ek function reference dena hai jise browser click hone par call kare.
button.addEventListener("click", function () {
    handleClick("red");
}); // ye sahi hai kyuki isme hum ek anonymous function de rahe hain jo click hone par call hoga aur uske andar hum handleClick("red") ko call kar rahe hain.

*/


 -->
